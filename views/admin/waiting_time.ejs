<!DOCTYPE html>
<html lang="<%= lang.lang %>">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/x-icon" sizes="16x16" href="https://www.stib-mivb.be/irj/go/km/docs/WEBSITE_RES/Webresources/Frontend/build/images/favicon.ico">
    <title><%= lang.waiting_time_title %></title>

    <!-- CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/main.css">

    <!-- Fonts | Emotes -->
	<script defer src="https://use.fontawesome.com/releases/v6.4.2/js/all.js"></script>

    <!-- JS -->
	<script src="/js/navbar-current-tab.js"></script>
</head>
<body>
    <%- include ('./partials/navbar') -%>

    <div class="title_division">
        <img src="https://www.stib-mivb.be/irj/go/km/docs/WEBSITE_RES/Webresources/Frontend/build/images/pattern-white.png">
        <h1 class="container"><%= lang.waiting_time_title %></h1>
        <h2 class="container"><%= lang.waiting_time_subtitle %></h2>
    </div>

    <main class="container">
        <p><%= lang.waiting_time_description %></p>

        <table class="table table-hover">
            <thead class="thead-light">
                <tr>
                    <th scope="col" rowspan="2">#</th>
                    <th scope="col" rowspan="2">MongoDB ID</th>
                    <th scope="col" rowspan="2">Point ID</th>
                    <th scope="col" rowspan="2">Line</th>
                    <th scope="col" colspan="4">Passingtimes</th>
                </tr>
                <tr>
                    <th scope="col">Destination</th>
                    <th scope="col">Expected arrival time</th>
                    <th scope="col">Line ID</th>
                    <th scope="col">Message</th>
                </tr>
            </thead>
            <tbody>
                <% mongoData.forEach((item, index) => { %>
                    <tr>
                        <th scope="row"><%= index + 1 %></th>
                        <td><%= item._id %></td>
                        <td><%= item.pointid %></td>
                        <td><%= item.lineid %></td>
                        <td><%= item.destination && item.destination.fr %></td>
                        <td><%= item.expectedArrivalTime %></td>
                        <td><%= item.lineId %></td>
                        <td><%= item.message && item.message[lang.lang] %></td>
                    </tr>
                <% }); %>
            </tbody>
        </table>
    </main>

    <%- include ('./partials/footer') -%>
</body>
</html>
